{"remainingRequest":"D:\\develop_tools\\work\\maven-work\\Yansol\\msystem-web\\node_modules\\babel-loader\\lib\\index.js!D:\\develop_tools\\work\\maven-work\\Yansol\\msystem-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\develop_tools\\work\\maven-work\\Yansol\\msystem-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\develop_tools\\work\\maven-work\\Yansol\\msystem-web\\src\\components\\Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\develop_tools\\work\\maven-work\\Yansol\\msystem-web\\src\\components\\Header.vue","mtime":1684834727865},{"path":"D:\\develop_tools\\work\\maven-work\\Yansol\\msystem-web\\babel.config.js","mtime":1681747183855},{"path":"D:\\develop_tools\\work\\maven-work\\Yansol\\msystem-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681747155761},{"path":"D:\\develop_tools\\work\\maven-work\\Yansol\\msystem-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1681747156896},{"path":"D:\\develop_tools\\work\\maven-work\\Yansol\\msystem-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681747155761},{"path":"D:\\develop_tools\\work\\maven-work\\Yansol\\msystem-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1681747158581}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"D:/develop_tools/work/maven-work/Yansol/msystem-web/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { mapState, mapGetters, mapMutations, mapActions } from 'vuex';\nimport Cookie from 'js-cookie';\nexport default {\n  data: function data() {\n    return {\n      username: '',\n      imgPath: ''\n    };\n  },\n  methods: _objectSpread(_objectSpread(_objectSpread({}, mapActions('account', ['fetchGetAccountData'])), mapMutations('menu', ['handleMenu'])), {}, {\n    handleClick: function handleClick(command) {\n      if (command === 'cancel') {\n        // 清除localStorage中的token\n        localStorage.removeItem('token');\n        localStorage.removeItem('role');\n        localStorage.removeItem('username');\n        localStorage.removeItem('menuData');\n        localStorage.removeItem('lastLoginTime');\n        localStorage.removeItem('employee');\n        //清除cookie中的menu\n        if (Cookie) {\n          Cookie.remove('menu');\n        }\n        // 跳轉到登入頁面\n        this.$router.push('/login');\n      }\n    },\n    //判斷麵包削的當前頁\n    isActiveBreadcrumb: function isActiveBreadcrumb(item) {\n      console.log(this.$route.path);\n      return this.$route.path === item.path;\n    }\n  }),\n  computed: _objectSpread(_objectSpread({}, mapState('menu', ['breadcrumbData'])), mapState('account', ['accountData'])),\n  created: function created() {\n    //獲取帳號信息\n    this.username = localStorage.getItem('username');\n    //動態獲取帳號圖示\n    this.imgPath = require(\"@/assets/images/\".concat(this.username, \".png\"));\n  },\n  mounted: function mounted() {\n    this.fetchGetAccountData();\n  }\n};",{"version":3,"names":["mapState","mapGetters","mapMutations","mapActions","Cookie","data","username","imgPath","methods","_objectSpread","handleClick","command","localStorage","removeItem","remove","$router","push","isActiveBreadcrumb","item","console","log","$route","path","computed","created","getItem","require","concat","mounted","fetchGetAccountData"],"sources":["src/components/Header.vue"],"sourcesContent":["<template>\r\n  <div class=\"header-container\">\r\n    <div class=\"l-content\">\r\n      <el-button style=\"margin-right: 20px\" @click=\"handleMenu\" icon=\"el-icon-menu\" size=\"mini\"></el-button>\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item\r\n            v-for=\"item in breadcrumbData\"\r\n            :to=\"{ path: item.path }\"\r\n            :key=\"item.path\"\r\n            :class=\"{ active: isActiveBreadcrumb(item)  }\"\r\n        >\r\n          {{ item.label }}\r\n        </el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <div class=\"r-content\">\r\n      <el-dropdown @command=\"handleClick\">\r\n        <span class=\"el-dropdown-link\">\r\n            <img class=\"user\" :src=imgPath alt=\"\">\r\n        </span>\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n<!--          <el-dropdown-item command=\"info\">個人中心</el-dropdown-item>-->\r\n          <el-dropdown-item command=\"cancel\">登出</el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState,mapGetters,mapMutations,mapActions} from 'vuex'\r\nimport Cookie from 'js-cookie'\r\nexport default {\r\n  data(){\r\n    return{\r\n      username:'',\r\n      imgPath:'',\r\n    }\r\n  },\r\n  methods:{\r\n    ...mapActions('account',['fetchGetAccountData']),\r\n    //調用store裡menu模塊中的handleMenu方法\r\n    ...mapMutations('menu',['handleMenu']),\r\n    handleClick(command) {\r\n      if (command === 'cancel') {\r\n        // 清除localStorage中的token\r\n        localStorage.removeItem('token')\r\n        localStorage.removeItem('role')\r\n        localStorage.removeItem('username')\r\n        localStorage.removeItem('menuData')\r\n        localStorage.removeItem('lastLoginTime')\r\n        localStorage.removeItem('employee')\r\n        //清除cookie中的menu\r\n        if(Cookie){\r\n          Cookie.remove('menu')\r\n        }\r\n        // 跳轉到登入頁面\r\n        this.$router.push('/login')\r\n      }\r\n    },\r\n    //判斷麵包削的當前頁\r\n    isActiveBreadcrumb(item) {\r\n      console.log(this.$route.path);\r\n      return this.$route.path === item.path;\r\n    },\r\n\r\n  },\r\n  computed:{\r\n    ///映射到store/menu.js中的breadcrumb方法\r\n    ...mapState('menu', ['breadcrumbData']),\r\n    ...mapState('account',['accountData']),\r\n  },\r\n  created() {\r\n    //獲取帳號信息\r\n    this.username = localStorage.getItem('username');\r\n    //動態獲取帳號圖示\r\n    this.imgPath = require(`@/assets/images/${this.username}.png`);\r\n  },\r\n  mounted() {\r\n    this.fetchGetAccountData();\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.header-container {\r\n  padding: 0 20px;\r\n  background-color: #333;\r\n  height: 60px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.header-container .text {\r\n  color: #fff;\r\n  font-size: 14px;\r\n  margin-left: 10px;\r\n}\r\n.header-container .r-content .user {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n}\r\n.header-container .l-content {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.header-container .l-content ::v-deep .el-breadcrumb__item .el-breadcrumb__inner {\r\n  font-weight: normal;\r\n}\r\n.header-container .l-content ::v-deep .el-breadcrumb__item .el-breadcrumb__inner.is-link {\r\n  color: #666;\r\n}\r\n.header-container .l-content ::v-deep .el-breadcrumb__item.active .el-breadcrumb__inner {\r\n  color: #ffffff;\r\n}\r\n</style>\r\n"],"mappings":";;;;;;AA8BA,SAAAA,QAAA,EAAAC,UAAA,EAAAC,YAAA,EAAAC,UAAA;AACA,OAAAC,MAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA,EAAAC,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACAN,UAAA,uCAEAD,YAAA;IACAQ,WAAA,WAAAA,YAAAC,OAAA;MACA,IAAAA,OAAA;QACA;QACAC,YAAA,CAAAC,UAAA;QACAD,YAAA,CAAAC,UAAA;QACAD,YAAA,CAAAC,UAAA;QACAD,YAAA,CAAAC,UAAA;QACAD,YAAA,CAAAC,UAAA;QACAD,YAAA,CAAAC,UAAA;QACA;QACA,IAAAT,MAAA;UACAA,MAAA,CAAAU,MAAA;QACA;QACA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA;IACA;IACA;IACAC,kBAAA,WAAAA,mBAAAC,IAAA;MACAC,OAAA,CAAAC,GAAA,MAAAC,MAAA,CAAAC,IAAA;MACA,YAAAD,MAAA,CAAAC,IAAA,KAAAJ,IAAA,CAAAI,IAAA;IACA;EAAA,EAEA;EACAC,QAAA,EAAAd,aAAA,CAAAA,aAAA,KAEAT,QAAA,+BACAA,QAAA,6BACA;EACAwB,OAAA,WAAAA,QAAA;IACA;IACA,KAAAlB,QAAA,GAAAM,YAAA,CAAAa,OAAA;IACA;IACA,KAAAlB,OAAA,GAAAmB,OAAA,oBAAAC,MAAA,MAAArB,QAAA;EACA;EACAsB,OAAA,WAAAA,QAAA;IACA,KAAAC,mBAAA;EACA;AACA"}]}